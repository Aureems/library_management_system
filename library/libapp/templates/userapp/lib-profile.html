{% extends 'base.html' %}
{% load static %}
{% block content %}

{% include 'navbar.html' %}
<style>
    body{margin-top:20px;}
</style>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<hr>
<div class="container">
    <div class="row">
        <div class="col-sm-10">
            <h3>{{ user.username }}</h3></div>
    </div>
    <div class="row">
        <div class="col-sm-3">
            <!--left col-->
            <ul class="list-group">
                <li class="list-group-item text-muted">Profile <i class="fa fa-user-circle-o" aria-hidden="true"></i></li>
                <li class="list-group-item text-right"><span class="float-left"><strong>Joined</strong></span>
                    {{ user.date_joined|date:'Y-m-d'}}</li>
                <li class="list-group-item text-right"><span class="float-left"><strong>Last seen</strong></span>
                    {{ user.last_login|date:'Y-m-d h:i a'}}</li>
                <li class="list-group-item text-right"><span class="float-left"><strong>Full name</strong></span>
                    {{ user.first_name}} {{ user.last_name }}</li>
            </ul>


            <ul class="list-group">
                <li class="list-group-item text-muted">Activity <i class="fa fa-dashboard" aria-hidden="true"></i></li>
                <li class="list-group-item text-right"><span class="float-left"><strong>Total ordered books</strong></span>
                    {{ total_books }}</li>
                <li class="list-group-item text-right"><span class="float-left"><strong>Reading</strong></span>
                    {{ total_not_returned }}</li>
            </ul>

        </div>
        <!--/col-3-->
        <div class="col-sm-9">
            <ul class="nav nav-tabs" id="myTab">
                  <li class="nav-item"><a class="nav-link active" href="#home" data-toggle="tab">My books</a></li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane active" id="home">
                    <div class="table-responsive">
                        <table class="table table-hover"  style="font-size:13px">
                            <thead>

                                <tr>
                                  <th scope="col">#</th>
                                  <th scope="col">ISBN</th>
                                  <th scope="col">Title</th>
                                  <th scope="col">Author</th>
                                  <th scope="col">Ordered by</th>
                                  <th scope="col">Ordered until</th>
                                  <th scope="col">Availability</th>
                                </tr>
                            </thead>
                            <tbody id="items">
                                <tr>
                                  <th scope="row">{{ 'forloop.counter' }}</th>
                                  <td>{{ my_item.item.isbn }}</td>
                                  <td>{{ my_item.item.title }}</td>
                                  <td>{{ my_item.item.author}}</td>
                                  <td>{{ my_item.item.user}}</td>
                                  <td>{{ my_item.until_date|date:'Y-m-d H:m'}}</td>
                                  <td>Returned-available/not
{#                                      <a href={% url 'book-return' my_item.id %}>#}
{#                                          <i class="fa fa-refresh" data-toggle="tooltip" data-placement="top" title="Return"></i>#}
{#                                      </a>#}
                                  </td>
                                </tr>


                            </tbody>
                        </table>
                        <hr>
                        <div class="row">
                            <div class="col-md-4 col-md-offset-4 text-center">
                                <ul class="pagination" id="myPager"></ul>
                            </div>
                        </div>
                    </div>
                    <!--/table-resp-->

                </div>

            </div>
            <!--/tab-pane-->
        </div>
        <!--/tab-content-->

    </div>
    <!--/col-9-->
</div>
<!--/row-->


{% include 'footer.html' %}
{% endblock %}